

# 分布式集群的项目演变历史*

## 传统的项目模式

![1568100757509](C:\Users\Zhangxinuser\Desktop\新的学习总结\imgs\1568100757509.png)

> 随着互联网用户的增多 , 传统的项目这种单一服务器已经不足以支撑高并发的处理 , 所以诞生了`前后端分离`
>
> 不过随着访问量的剧增 , 这种前后端分离也不足以支撑庞大的并发访问所以就诞生了`项目集群`的概念

![1568101037860](C:\Users\Zhangxinuser\Desktop\新的学习总结\imgs\1568101037860.png)

> 在很长的一段时间 , 这种分布式的项目都可以处理和应对大多数的问题 , 不过当访问量再度增加一倍的时候 , 这个时候发现我们项目访问的业务有频繁与不频繁的差别, 为了应对这种情况选择搭配服务器显得并不合理,所以这个时候我们的==分布式集群就诞生了==

![1568101046693](C:\Users\Zhangxinuser\Desktop\新的学习总结\imgs\1568101046693.png)



## **分布式** 

分布式:将项目分开部署 , 主要偏向于如何管理项目



## **微服务**

微服务 : 如何将项目进行拆分成不同的子服务 , 偏向于项目拆分



## **分布式集群就是** 

由于业务访问的频率不同我们将这些业务抽取出来集成服务并分散部署到不同的tomcat上面通过==负载均衡==来把请求分发到不同的服务器上面用于降低服务器的压力 , 必要的时候可以将多个tomcat部署同一个服务 (比如双十一的时候)



## **项目演变所带来的问题**

### 问题一: 服务器问题

> 由于集群所带来的操作如何优雅的分发到不同的请求ip上面 , 并均匀分配

​		通过域名绑定来进行服务器请求的均匀分配到不同的服务器上面 , 再由负载均衡来分发请求

​		由于服务被拆分成很多所以访问的端口很多很乱 , 通过绑定域名就可以实现将不同的端口绑定到同一个域名上		面

​		甚至可以通过`动静分离`的方式实现性能的优化



### 问题二 : 数据库

> 虽然请求都已经被分发但是最终请求都是回到数据库上面 , 这样数据库的压力还是没有减弱

​		可以将数据库集群 , 用来分散服务器的请求压力 , 将数据库分为主库和从库 , 一台数据库做dml操作  其余三台做dql从库操作做主从分离操作

​			1.主从分离后由于现在项目是分布式 , 所以可能达到一种数据并不会及时更新的麻烦

​				根据主从同步的操作来为数据库解决这个麻烦

​				增加一个==中间层== (`也就是缓存层`)作用是将不同的数据库统一成一个库

​				现有的实现方式有 : `mycat` : 遮蔽掉下面数据库 看成统一的数据库 ,` jdbc-share` : 遮蔽掉下面的数据库 , 				两者不同之处就是仅仅是不同的框架而已

> 拓展

​		为了数据库的优化我们可以对其进行性能的提升

##### 		1.session共享策略

​				在不同的服务器跳转请求的时候会发生session不通共的情况,所以放到公共区也就是缓存区

##### 		2.冷数据处理

​            	一些不会变的数据可以做冷数据缓存的处理 , 比如用户头像, 每次访问的时候就直接去缓存里面拿就				可以了

##### 		3.分库分表

​				按照不同的模块建立不同的数据库 , 不过常用的通常都是DQL与DML的拆分



## 项目结构示意图

![1568103959718](C:\Users\Zhangxinuser\Desktop\新的学习总结\imgs\1568103959718.png)



### 如何搭建一个简单地分布式项目

![1568104148644](C:\Users\Zhangxinuser\Desktop\新的学习总结\imgs\1568104148644.png)

